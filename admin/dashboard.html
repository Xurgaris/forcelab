<!doctype html>
<html lang="pt-br">
<head>
  <style>
  html{ visibility: hidden; }
  html.auth-ok{ visibility: visible; }
</style>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0"/>
  <title>Dashboard | ForceLab ADM</title>
  <link rel="stylesheet" href="/admin/admin.css" />
</head>

<body>
  <!-- Prote√ß√£o -->
  <script type="module" src="/admin/protect.js"></script>

  <div class="admin">
    <div id="sidebar"></div>

    <main class="main">
      <header class="mobilebar">
  <button class="micon" id="openSidebar" type="button" aria-label="Abrir menu">‚ò∞</button>
  <div class="mobilebar-title">
    <strong id="pageTitle">Painel</strong>
    <small class="muted">ForceLab ADM</small>
  </div>
</header>

<div class="sidebar-backdrop" id="sidebarBackdrop" aria-hidden="true"></div>

      <header class="top">
        <div>
          <h2>Dashboard</h2>
          <div class="muted">Vis√£o geral dos pedidos e vendas</div>
        </div>

        <div class="top-actions">
          <div class="search">
            <span style="color:#111;opacity:.7">üîé</span>
            <input id="dashSearch" placeholder="Buscar pedido/cliente..." />
          </div>
          <button class="icon" id="refreshDash" type="button" title="Atualizar">‚ü≤</button>
        </div>
      </header>

      <!-- KPIs -->
      <section class="dash-kpis">
        <div class="kpi">
          <div class="kpi-top">
            <span class="muted">Total de pedidos</span>
            <span class="badge wait" id="kpiOrdersHint">hoje</span>
          </div>
          <strong id="totalPedidos">0</strong>
          <div class="hint">Todos os pedidos no Firestore</div>
        </div>

        <div class="kpi">
          <div class="kpi-top">
            <span class="muted">Total vendido</span>
            <span class="badge ok" id="kpiSalesHint">geral</span>
          </div>
          <strong id="totalVendas">R$ 0,00</strong>
          <div class="hint">Somat√≥rio do campo <code>total</code></div>
        </div>

        <div class="kpi">
          <div class="kpi-top">
            <span class="muted">Ticket m√©dio</span>
            <span class="badge" id="kpiTicketHint">estimado</span>
          </div>
          <strong id="ticketMedio">R$ 0,00</strong>
          <div class="hint">Total vendido √∑ total de pedidos</div>
        </div>

        <div class="kpi">
          <div class="kpi-top">
            <span class="muted">Status</span>
            <span class="badge ok">Online</span>
          </div>
          <strong>OK</strong>
          <div class="hint">Auth + Rules</div>
        </div>
      </section>

      <!-- Grids -->
      <section class="dash-grid">
        <!-- √öltimos pedidos -->
        <div class="table">
          <div class="table-head">
            <h3>√öltimos pedidos</h3>
            <small class="muted">Mais recentes (com busca)</small>
          </div>

          <div class="table-wrap">
            <table>
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Cliente</th>
                  <th>Total</th>
                  <th>Status</th>
                  <th>Data</th>
                </tr>
              </thead>
              <tbody id="lastOrders">
                <tr><td colspan="5" class="muted">Carregando...</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Status breakdown -->
        <div class="panel">
          <div class="panel-head">
            <h3>Status dos pedidos</h3>
            <small class="muted">Distribui√ß√£o r√°pida</small>
          </div>

          <div class="status-list" id="statusList">
            <div class="muted">Carregando...</div>
          </div>
        </div>
      </section>
    </main>
  </div>
<script type="module" src="/admin/ui.js"></script>
  <script type="module" src="/admin/dashboard.js"></script>
</body>
</html>
