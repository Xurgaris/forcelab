@import url("https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;800;900&display=swap");

:root{
  --bg:#070707;
  --bg2:#0b0b0b;

  --panel: rgba(255,255,255,.04);
  --panel2: rgba(255,255,255,.06);

  --text:#fff;
  --muted: rgba(255,255,255,.70);
  --border: rgba(255,255,255,.10);

  --primary:#ff1a1a;
  --primary2:#cc0000;

  --radius:18px;
  --radius-lg:24px;

  --shadow: 0 20px 60px rgba(0,0,0,.55);
}

*{margin:0;padding:0;box-sizing:border-box;font-family:"Inter",system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;}
body{
  background:
    radial-gradient(1200px 600px at 15% 0%, rgba(255,0,0,.14), transparent 55%),
    radial-gradient(900px 520px at 85% 10%, rgba(255,0,0,.10), transparent 60%),
    var(--bg);
  color:var(--text);
  min-height:100vh;
}

a{color:inherit;text-decoration:none;}
img{max-width:100%;display:block;}
button{font:inherit;}
small{color:var(--muted);}
.muted{color:var(--muted);}
.sr-only{
  position:absolute;width:1px;height:1px;padding:0;margin:-1px;
  overflow:hidden;clip:rect(0,0,0,0);border:0;
}

/* Layout */
.admin{
  display:grid;
  grid-template-columns: 280px 1fr;
  min-height:100vh;
}

/* =========================
   SIDEBAR
========================= */
.sidebar{
  position:sticky;
  top:0;
  height:100vh;
  background: rgba(0,0,0,.70);
  backdrop-filter: blur(10px);
  border-right: 1px solid var(--border);
  padding: 18px;
}
.brand{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  padding: 10px 10px 14px;
  border-bottom: 1px solid rgba(255,255,255,.08);
}
.brand h1{
  font-size:18px;
  font-weight:950;
  letter-spacing:.6px;
}
.brand h1 span{color:var(--primary);}
.brand small{display:block;margin-top:2px;font-size:12px;}

.sidebar-toggle{
  display:none;
  width:42px;height:42px;
  border-radius:12px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  color:#fff;
  cursor:pointer;
  transition:.16s;
}
.sidebar-toggle:hover{
  border-color: rgba(255,0,0,.30);
  background: rgba(255,0,0,.10);
}

.nav{
  margin-top: 14px;
  display:grid;
  gap:10px;
}
.nav a{
  display:flex;
  align-items:center;
  gap:10px;
  padding: 12px 12px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  font-weight:900;
  color: rgba(255,255,255,.88);
  transition:.18s;
}
.nav a:hover{
  border-color: rgba(255,0,0,.28);
  background: rgba(255,0,0,.10);
  transform: translateY(-1px);
}
.nav a.active{
  border-color: rgba(255,0,0,.35);
  background: rgba(255,0,0,.16);
  color:#fff;
}

.sidebar-foot{
  position:absolute;
  left:18px;right:18px;
  bottom:18px;
  display:grid;
  gap:10px;
}
.userbox{
  padding: 12px;
  border-radius: 16px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
}
.userbox strong{display:block;font-weight:950;}
.userbox small{display:block;margin-top:6px;font-size:12px;}

/* =========================
   BUTTONS
========================= */
.btn{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  height:44px;
  padding: 0 14px;
  border-radius: 999px;
  font-weight: 950;
  border:1px solid transparent;
  cursor:pointer;
  transition:.18s;
  user-select:none;
}
.btn-primary{
  background: linear-gradient(145deg, var(--primary), var(--primary2));
  color:#fff;
  box-shadow: 0 0 40px rgba(255,0,0,.16);
}
.btn-primary:hover{transform:translateY(-1px); box-shadow: 0 0 70px rgba(255,0,0,.22);}
.btn-ghost{
  background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.12);
  color:#fff;
}
.btn-ghost:hover{border-color: rgba(255,0,0,.28); background: rgba(255,0,0,.10);}

.btn-mini{
  height: 34px;
  padding: 0 10px;
  border-radius: 12px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  color:#fff;
  font-weight: 900;
  cursor:pointer;
  transition:.18s;
}
.btn-mini:hover{border-color: rgba(255,0,0,.28); background: rgba(255,0,0,.10);}
.btn-mini.ghost{opacity:.9;}
.btn-mini.ghost:hover{opacity:1;}

/* =========================
   MAIN
========================= */
.main{padding: 18px;}

.top{
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:16px;
  padding: 14px 14px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  backdrop-filter: blur(10px);
  margin-bottom:14px;
}
.top h2{
  font-size:28px;
  font-weight:950;
  letter-spacing:.2px;
}
.top .muted{font-size:13px;font-weight:800;}

.top-actions{display:flex;gap:10px;align-items:center;}

/* Search (dark) */
.search{
  display:flex;align-items:center;gap:10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255,255,255,.05);
  border:1px solid rgba(255,255,255,.10);
  min-width: 340px;
}
.search input{
  border:none;outline:none;width:100%;
  background:transparent;
  font-weight:800;color:#fff;
}
.search input::placeholder{color:rgba(255,255,255,.55);}

.icon{
  width:44px;height:44px;
  border-radius:999px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  color:#fff;
  cursor:pointer;
  transition:.16s;
}
.icon:hover{border-color: rgba(255,0,0,.28); background: rgba(255,0,0,.10); transform: translateY(-1px);}

/* =========================
   DASHBOARD GRID / CARDS
========================= */
.grid{
  margin-top: 14px;
  display:grid;
  grid-template-columns: repeat(12, minmax(0,1fr));
  gap: 14px;
}
.card{
  grid-column: span 4;
  padding: 16px;
  border-radius: 22px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.04);
  box-shadow: var(--shadow);
}
.card h3{font-size:13px;color:rgba(255,255,255,.75);font-weight:900;}
.card strong{
  display:block;
  margin-top:10px;
  font-size: 28px;
  font-weight: 950;
  color:#fff;
}
.card .hint{margin-top:10px;color:var(--muted);font-size:12px;font-weight:800;}

/* =========================
   TABLE
========================= */
.table{
  grid-column: span 12;
  border-radius: 22px;
  overflow:hidden;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
}
.table-head{
  padding:14px 16px;
  display:flex;
  align-items:flex-end;
  justify-content:space-between;
  gap:12px;
  border-bottom:1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.25);
}
.table-head h3{font-weight:950;}
.table-head small{font-weight:800;}

.table-wrap{overflow:auto;}

.table table{width:100%;border-collapse:collapse;min-width:860px;}
.table th, .table td{
  padding: 12px 14px;
  text-align:left;
  border-bottom:1px solid rgba(255,255,255,.06);
  font-size: 13px;
}
.table th{
  color: rgba(255,255,255,.70);
  font-weight: 900;
  text-transform: uppercase;
  letter-spacing:.4px;
  background: rgba(0,0,0,.18);
}
.table td{color: rgba(255,255,255,.88); font-weight: 800;}
.table tr:hover td{background: rgba(255,0,0,.06);}

.row-click{cursor:pointer;}
.actions{display:flex;gap:8px;justify-content:flex-end;align-items:center;}

/* =========================
   BADGES
========================= */
.badge{
  display:inline-flex;
  align-items:center;
  justify-content:center;
  padding: 6px 10px;
  border-radius: 999px;
  font-weight: 950;
  font-size: 12px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(255,255,255,.04);
  text-transform: lowercase;
}
.badge.ok{border-color: rgba(0,255,120,.25); background: rgba(0,255,120,.08);}
.badge.wait{border-color: rgba(255,220,0,.25); background: rgba(255,220,0,.08);}
.badge.bad{border-color: rgba(255,0,0,.25); background: rgba(255,0,0,.10);}
.badge.danger{border-color: rgba(255,0,0,.35); background: rgba(255,0,0,.18);}

/* =========================
   ORDERS TOOLBAR
========================= */
.orders-toolbar{
  margin-top: 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
  padding:14px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
}
.toolbar-left{display:flex;align-items:center;gap:14px;flex-wrap:wrap}
.toolbar-right{display:flex;gap:10px;align-items:center}

.pill{
  display:inline-flex;
  align-items:baseline;
  gap:10px;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255,0,0,.10);
  border:1px solid rgba(255,0,0,.22);
}
.pill strong{font-weight:950;font-size:18px;color:#fff;}
.pill span{color:rgba(255,255,255,.70);font-weight:800;font-size:12px;}

.filters{display:flex;gap:10px;flex-wrap:wrap;}
.filters select{
  height: 42px;
  border-radius: 14px;
  border: 1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.35);
  color:#fff;
  padding: 0 12px;
  font-weight: 900;
  outline:none;
}
.filters select:focus{
  border-color: rgba(255,0,0,.30);
  box-shadow: 0 0 0 3px rgba(255,0,0,.10);
}

/* =========================
   MODAL (Premium)
========================= */
.modal{
  position:fixed;
  inset:0;
  display:none;
  z-index: 99999;
}
.modal.open{display:block;}

.modal-backdrop{
  position:absolute;
  inset:0;
  background: rgba(0,0,0,.72);
  backdrop-filter: blur(8px);
}

.modal-card{
  position:relative;
  width:min(1100px, 92vw);
  margin: 5vh auto;
  max-height: 90vh;
  overflow:auto;
  border-radius: 26px;
  border:1px solid rgba(255,255,255,.12);
  background:
    radial-gradient(900px 420px at 18% 12%, rgba(255,0,0,.14), transparent 60%),
    rgba(10,10,10,.96);
  box-shadow: 0 30px 90px rgba(0,0,0,.65);
}

.modal-head{
  padding:16px 18px;
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:14px;
  border-bottom:1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.20);
}
.modal-head h3{font-size:18px;font-weight:950}
.modal-body{padding:16px 18px 18px;}

.modal-grid{
  display:grid;
  grid-template-columns: 1fr 1.2fr;
  gap:14px;
}

.panel{
  border-radius:22px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  padding:14px;
  box-shadow: 0 16px 40px rgba(0,0,0,.35);
}
.panel h4{
  font-size:14px;
  letter-spacing:.2px;
  text-transform:uppercase;
  color: rgba(255,255,255,.80);
  margin-bottom:10px;
}

.kv{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  padding:10px 0;
  border-bottom:1px solid rgba(255,255,255,.06);
}
.kv:last-child{border-bottom:none;}
.kv span{color: rgba(255,255,255,.65); font-weight:800; font-size:12px}
.kv strong{font-weight:950; text-align:right; max-width: 62%}

.panel-actions{
  margin-top:12px;
  display:grid;
  grid-template-columns: 1fr auto auto;
  gap:10px;
  align-items:center;
}
.panel-actions select{
  height:44px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.35);
  color:#fff;
  padding:0 12px;
  font-weight:900;
  outline:none;
}
.panel-actions select:focus{
  border-color: rgba(255,0,0,.35);
  box-shadow:0 0 0 3px rgba(255,0,0,.12);
}

.items{
  display:grid;
  gap:10px;
  margin-top:10px;
  max-height: 38vh;
  overflow:auto;
  padding-right: 6px;
}
.items::-webkit-scrollbar{width:6px;}
.items::-webkit-scrollbar-thumb{
  background: rgba(255,0,0,.35);
  border-radius:999px;
}

.item{
  display:grid;
  grid-template-columns: 56px 1fr auto;
  gap:10px;
  align-items:center;
  padding:10px;
  border-radius:16px;
  border:1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.25);
}
.item-img{
  width:56px;height:56px;
  border-radius:14px;
  overflow:hidden;
  background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  display:flex;align-items:center;justify-content:center;
  font-size:22px;
}
.item-img img{width:100%;height:100%;object-fit:cover;}
.item-info strong{display:block;font-weight:950;}
.item-info small{display:block;margin-top:4px;color:rgba(255,255,255,.70);font-weight:800;}
.item-total{font-weight:950;color:rgba(255,255,255,.92);}

.divider{
  height:1px;
  background: rgba(255,255,255,.08);
  margin:12px 0;
}
.totals .kv.total strong{
  font-size:18px;
  color: var(--primary);
  text-shadow: 0 0 22px rgba(255,0,0,.35);
}

/* =========================
   PRODUCTS UI helpers
========================= */
.products-toolbar{
  margin-top: 14px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;
}
.pinfo{display:flex;align-items:center;gap:12px;}
.pimgwrap{
  width:56px;height:56px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.25);
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
}
.pimg{width:100%;height:100%;object-fit:cover;}

.form-grid{display:grid;grid-template-columns: 1fr 1fr;gap: 14px;}
.form-col{
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  padding: 14px;
}
.label{
  display:block;
  margin-top: 12px;
  font-weight: 900;
  font-size: 12px;
  color: rgba(255,255,255,.72);
}
.input, .textarea{
  width:100%;
  margin-top: 8px;
  border-radius: 14px;
  border:1px solid rgba(255,255,255,.12);
  background: rgba(0,0,0,.25);
  color:#fff;
  padding: 12px 12px;
  font-weight: 800;
  outline:none;
}
.textarea{resize:vertical;}
.input:focus, .textarea:focus{
  border-color: rgba(255,0,0,.30);
  box-shadow: 0 0 0 3px rgba(255,0,0,.10);
}
.preview{margin-top: 12px;}
.preview-box{
  width:100%;
  height: 220px;
  border-radius: 18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.25);
  display:flex;align-items:center;justify-content:center;
  overflow:hidden;
}
.preview-box img{width:100%;height:100%;object-fit:cover;}
.form-actions{margin-top: 14px;display:flex;gap:10px;flex-wrap:wrap;}

/* =========================
   RESPONSIVE
========================= */
@media (max-width: 1100px){
  .admin{grid-template-columns: 1fr;}
  .sidebar{
    position:fixed;
    left:0;top:0;bottom:0;
    width:min(92vw, 360px);
    transform: translateX(-110%);
    transition:.2s;
    z-index: 9999;
  }
  .sidebar.open{transform: translateX(0);}
  .sidebar-toggle{display:inline-flex;align-items:center;justify-content:center;}
  .main{padding: 14px;}
  .search{min-width: 0; width: 100%;}
  .top{flex-wrap:wrap;}
  .grid{gap:12px;}
  .card{grid-column: span 12;}
}

@media (max-width: 980px){
  .modal-grid{grid-template-columns: 1fr;}
  .panel-actions{grid-template-columns: 1fr;}
  .actions{justify-content:flex-start;}
  .table table{min-width:760px;}
}

@media (max-width: 520px){
  .modal-card{margin: 3vh auto;}
  .orders-toolbar{padding:12px;}
  .item{grid-template-columns: 52px 1fr; grid-auto-rows:auto;}
  .item-total{grid-column: 2; justify-self:end;}
  .form-grid{grid-template-columns: 1fr;}
  .preview-box{height: 200px;}
}
/* =========================
   SIDEBAR MOBILE UX (premium)
========================= */
.mobilebar{
  display:none;
  align-items:center;
  gap:12px;
  margin-bottom:12px;
  padding:12px 12px;
  border-radius:18px;
  border:1px solid rgba(255,255,255,.10);
  background: rgba(255,255,255,.03);
  backdrop-filter: blur(10px);
}
.micon{
  width:44px;height:44px;
  border-radius:14px;
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.04);
  color:#fff;
  cursor:pointer;
  transition:.16s;
}
.micon:hover{
  border-color: rgba(255,0,0,.30);
  background: rgba(255,0,0,.10);
  transform: translateY(-1px);
}
.mobilebar-title strong{display:block;font-weight:950;letter-spacing:.2px}
.mobilebar-title small{display:block;margin-top:2px}

/* Backdrop (overlay) */
.sidebar-backdrop{
  position:fixed;
  inset:0;
  background: rgba(0,0,0,.65);
  backdrop-filter: blur(6px);
  opacity:0;
  pointer-events:none;
  transition:.2s;
  z-index:9998;
}
.sidebar-backdrop.open{
  opacity:1;
  pointer-events:auto;
}

/* Ajuste: botão dentro da sidebar some no mobile (agora o botão é no conteúdo) */
@media (max-width: 1100px){
  .mobilebar{display:flex;}
  #btnSidebar{display:none !important;}
}
/* =========================
   DASHBOARD LAYOUT FIX
   (cole no FINAL do admin.css)
========================= */

/* garante que o dashboard não herde estilos antigos */
.dash-kpis, .dash-grid { width: 100%; }

/* KPIs: 4 colunas no desktop, 2 no tablet, 1 no mobile */
.dash-kpis{
  display:grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 14px;
  margin-top: 14px;
}

@media (max-width: 1200px){
  .dash-kpis{ grid-template-columns: repeat(2, minmax(0, 1fr)); }
}

@media (max-width: 560px){
  .dash-kpis{ grid-template-columns: 1fr; }
}

/* Grid principal: tabela grande + painel ao lado */
.dash-grid{
  display:grid;
  grid-template-columns: 1.55fr .85fr;
  gap: 14px;
  margin-top: 14px;
  align-items: start;
}

/* evita a tabela “forçar” quebrar layout */
.dash-grid .table{ min-width: 0; }
.dash-grid .panel{ min-width: 0; }

/* Responsivo: empilha com boa aparência */
@media (max-width: 980px){
  .dash-grid{ grid-template-columns: 1fr; }
}

/* opcional: tabela do dashboard fica mais compacta */
#lastOrders td, #lastOrders th{
  white-space: nowrap;
}
#lastOrders td:nth-child(2), #lastOrders th:nth-child(2){
  white-space: normal; /* cliente pode quebrar linha */
}
/* Upload row */
.upload-row{
  display:flex;
  align-items:center;
  gap:10px;
  margin-top: 10px;
  flex-wrap: wrap;
}

/* Preview */
.preview{ margin-top: 12px; }
.preview-box{
  height: 180px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.10);
  background: rgba(0,0,0,.25);
  display:grid;
  place-items:center;
  overflow:hidden;
}
.preview-box img{
  width:100%;
  height:100%;
  object-fit: contain;
  display:block;
}
/* ===== Mensagens (Chat-like) ===== */
.messages-layout{
  display:grid;
  grid-template-columns: 360px 1fr;
  gap:16px;
  align-items:stretch;
}

.messages-list, .messages-view{
  background: rgba(255, 255, 255, 0.04);
  border:1px solid rgba(255,255,255,.08);
  border-radius:16px;
  overflow:hidden;
}

.messages-head{
  padding:14px 14px;
  display:flex;
  align-items:baseline;
  justify-content:space-between;
  border-bottom:1px solid rgba(218, 209, 209, 0.08);
}

.msg-items{
  max-height: calc(100vh - 220px);
  overflow:auto;
}

.msg-item{
  width:100%;
  text-align:left;
  padding:12px 14px;
  background:transparent;
  border:0;
  border-bottom:1px solid rgba(255,255,255,.06);
  cursor:pointer;
  transition: background .15s ease, transform .15s ease;
}
.msg-item strong, .msg-item span{
color: #fff;}
.msg-item:hover{ background: rgba(255,255,255,.04); }
.msg-item.active{ background: rgba(255,255,255,.06); }
.msg-item.unread strong::after{
  content:" •";
  color:#6cf2c2;
  font-weight:900;
}


.msg-top{ display:flex; justify-content:space-between; gap:10px; }
.msg-sub{ font-size:.85rem; margin-top:2px; }
.msg-snippet{ margin-top:6px; opacity:.92; font-size:.92rem; }

.msg-empty{
  padding:22px;
}
.msg-card{
  padding:16px;
}
.msg-card-head{
  display:flex;
  gap:12px;
  align-items:flex-start;
  justify-content:space-between;
  padding-bottom:12px;
  border-bottom:1px solid rgba(255,255,255,.08);
}
.msg-actions{
  display:flex;
  gap:8px;
  flex-wrap:wrap;
}
.msg-body{ padding-top:14px; }

.bubble{
  background: rgba(255,255,255,.04);
  border:1px solid rgba(255,255,255,.08);
  border-radius:14px;
  padding:14px;
}
.bubble-label{ font-size:.85rem; margin-bottom:8px; }
/* ===== MENSAGENS (VIEW) ===== */
.messages-layout{
  display: grid;
  grid-template-columns: 360px 1fr;
  gap: 16px;
}

.messages-view{
  min-height: 520px;
}

.msg-card{
  border-radius: 18px;
  padding: 16px;
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.08);
}

.msg-body{
  margin-top: 14px;
  display: flex;
  flex-direction: column;
  gap: 12px;
}

/* “Bolha” da mensagem */
.bubble{
  background: rgba(0,0,0,.25);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 16px;
  padding: 14px 14px;
  min-height: 220px;
  display: flex;
  flex-direction: column;
}

/* label (Mensagem) */
.bubble-label{
  font-size: 12px;
  opacity: .75;
  margin-bottom: 10px;
}

/* texto real */
#vText{
  margin: 0;
  font-size: 15px;
  line-height: 1.5;
  white-space: pre-wrap;
  word-break: break-word;
  flex: 1;
}

/* quando tiver texto, deixa com mais “presença” */
.bubble.has-text{
  background: rgba(0,0,0,.32);
}

/* mobile */
@media (max-width: 900px){
  .messages-layout{
    grid-template-columns: 1fr;
  }
  .messages-view{
    min-height: auto;
  }
  .bubble{
    min-height: 180px;
  }
}

/* mobile */
@media (max-width: 980px){
  .messages-layout{ grid-template-columns: 1fr; }
  .msg-items{ max-height: 360px; }
}
.msg-card{
  background: rgba(255,255,255,.04);
  border: 1px solid rgba(255,255,255,.08);
  border-radius: 14px;
  padding: 14px;
  margin-bottom: 10px;
}
.msg-head{
  display:flex;
  justify-content:space-between;
  align-items:center;
  gap:10px;
}
.msg-meta{ margin-top:6px; }
.msg-body{
  margin-top:10px;
  white-space: pre-wrap;
  line-height: 1.4;
}
/* BOTÕES À DIREITA: não quebrar no desktop */
.msg-actions{
  flex-shrink: 0;
  display: flex;
  align-items: center;
  gap: 10px;
  flex-wrap: nowrap;     /* impede quebrar linha */
  white-space: nowrap;   /* garante */
}

/* se o container for pequeno, deixa rolar pro lado ao invés de quebrar */
.msg-actions{
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
  scrollbar-width: none;       /* firefox */
}
.msg-actions::-webkit-scrollbar{ display:none; } /* chrome */

/* MOBILE: aí sim pode quebrar */
@media (max-width: 700px){
  .msg-actions{
    flex-wrap: wrap;     /* permite quebrar no mobile */
    overflow-x: visible;
  }
}
/* ===========================
   IMAGENS (CLOUDINARY) - ADM
   deixa igual o resto do painel
=========================== */

.img-panel{
  display: grid;
  gap: 14px;
  padding: 14px;
}

.img-actions{
  display: flex;
  align-items: center;
  gap: 12px;
  flex-wrap: wrap;
}

.img-preview{
  display: grid;
  gap: 8px;
}

.img-preview-box{
  width: 100%;
  min-height: 220px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.35);
  display: grid;
  place-items: center;
  overflow: hidden;
}

.img-preview-box img{
  width: 100%;
  height: 100%;
  object-fit: contain;
  display: block;
}

/* Mobile */
@media (max-width: 768px){
  .img-preview-box{ min-height: 180px; }
}

/* ===============================
   ADM RESPONSIVE FIX PACK (FINAL)
   cole no FINAL do admin.css
================================ */

/* Anti-estouro global */
html, body { width: 100%; max-width: 100%; overflow-x: hidden; }
* { box-sizing: border-box; min-width: 0; }
img, svg, video, canvas { max-width: 100%; height: auto; }

/* Container do painel */
.admin{
  width: 100%;
  min-height: 100vh;
  display: grid;
  grid-template-columns: 280px 1fr; /* sidebar + main */
}

/* Sidebar padrão (desktop) */
#sidebar{
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  border-right: 1px solid rgba(255,255,255,.10);
}

/* Área principal */
.main{
  width: 100%;
  min-width: 0;
  overflow: hidden;
}

/* Header/topbar não estoura */
.top, .mobilebar{
  min-width: 0;
}
.top-actions{
  min-width: 0;
  display: flex;
  flex-wrap: wrap;        /* quebra bonitinho */
  gap: 10px;
  align-items: center;
}
.top-actions .search{
  flex: 1 1 260px;        /* cresce e quebra */
  min-width: 220px;
}
.top-actions select,
.top-actions button{
  flex: 0 0 auto;
}

/* Qualquer lista/tabela grande: scroll quando precisar */
.table-wrap, .list-wrap, .panel-card{
  min-width: 0;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
}
table{ width: 100%; border-collapse: collapse; }
td, th{ max-width: 100%; }

/* Cards e grids não vazam */
.card, .panel-card, .messages-layout, .grid-2{
  min-width: 0;
}
.grid-2{
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

/* Backdrop do mobile (se já existe no HTML) */
.sidebar-backdrop{
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,.55);
  backdrop-filter: blur(10px);
  opacity: 0;
  pointer-events: none;
  transition: .2s ease;
  z-index: 9998;
}
.sidebar-backdrop.open{
  opacity: 1;
  pointer-events: auto;
}

/* ===============================
   MOBILE / TABLET
================================ */
@media (max-width: 980px){
  .admin{
    grid-template-columns: 1fr; /* tira sidebar fixa */
  }

  /* Sidebar vira drawer */
  #sidebar{
    position: fixed;
    left: 0;
    top: 0;
    bottom: 0;
    width: min(86vw, 320px);
    height: 100vh;
    z-index: 9999;

    transform: translateX(-110%);
    transition: transform .22s ease;
    box-shadow: 18px 0 60px rgba(0,0,0,.65);
    border-right: 1px solid rgba(255,255,255,.10);
  }

  /* quando abrir */
  body.sidebar-open #sidebar{
    transform: translateX(0);
  }
  body.sidebar-open .sidebar-backdrop{
    opacity: 1;
    pointer-events: auto;
  }

  /* Main ocupa tudo */
  .main{
    width: 100%;
  }

  /* Top actions mais empilhado */
  .top-actions{
    flex-direction: column;
    align-items: stretch;
  }
  .top-actions .search,
  .top-actions select,
  .top-actions button{
    width: 100%;
    min-width: 0;
  }

  /* grids viram 1 coluna */
  .grid-2{
    grid-template-columns: 1fr;
  }

  /* mensagens layout (se tiver) */
  .messages-layout{
    display: grid;
    grid-template-columns: 1fr;
    gap: 12px;
  }
}

/* EXTRA: telas bem pequenas */
@media (max-width: 420px){
  .main{ padding-bottom: 14px; }
  .btn, button, select, input{ max-width: 100%; }
}
/* Sidebar nav (não conflita com .nav do site) */
.sidebar .side-nav{
  margin-top: 14px;
  display: grid;
  gap: 8px;
}

.sidebar .side-nav a{
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 12px 12px;
  border-radius: 14px;
  font-weight: 900;
  color: rgba(255,255,255,.88);
  background: rgba(255,255,255,.03);
  border: 1px solid rgba(255,255,255,.10);
  transition: .18s;
  white-space: nowrap;
}

.sidebar .side-nav a:hover{
  background: rgba(120,0,0,.18);
  border-color: rgba(255,0,0,.22);
  color: #fff;
}

.sidebar .side-nav a.active{
  background: rgba(120,0,0,.22);
  border-color: rgba(255,0,0,.28);
  color: #fff;
}
/* garante que os links do menu aparecem */
.sidebar .nav { display: grid !important; gap: 8px; }
.sidebar .nav a { display: block !important; }
/* ===== FIX DEFINITIVO SIDEBAR (wrapper x panel) ===== */

/* o conteúdo REAL do menu é o aside #sidebarPanel */
#sidebarPanel{
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  position: relative; /* para sidebar-foot absolute */
}

/* mobile drawer baseado no .open (mais simples) */
@media (max-width: 1100px){
  #sidebarPanel{
    position: fixed;
    left: 0; top: 0; bottom: 0;
    width: min(92vw, 360px);
    transform: translateX(-110%);
    transition: transform .22s ease;
    z-index: 9999;
  }
  #sidebarPanel.open{
    transform: translateX(0);
  }
}

/* garante que links não somem */
#sidebarPanel .nav{ display: grid; gap: 10px; }
#sidebarPanel .nav a{ display: flex; }
/* ===============================
   FIX DEFINITIVO — SIDEBAR ADM
   (compatível com ui.js: body.sidebar-open)
   Cole no FINAL do admin.css
================================ */

/* o wrapper #sidebar só segura o HTML carregado */
#sidebar { min-width: 0; }

/* o painel real é o aside carregado */
#sidebarPanel{
  position: sticky;
  top: 0;
  height: 100vh;
  overflow: auto;
  -webkit-overflow-scrolling: touch;
  position: relative; /* necessário pro .sidebar-foot absolute */
}

/* MOBILE/TABLET: vira drawer */
@media (max-width: 1100px){
  .admin{ grid-template-columns: 1fr; }

  #sidebarPanel{
    position: fixed;
    left: 0; top: 0; bottom: 0;
    width: min(92vw, 360px);
    height: 100vh;
    transform: translateX(-110%);
    transition: transform .22s ease;
    z-index: 9999;
    box-shadow: 18px 0 60px rgba(0,0,0,.65);
  }

  body.sidebar-open #sidebarPanel{
    transform: translateX(0);
  }
}

/* garante que o nav aparece SEMPRE */
#sidebarPanel .nav{ display: grid !important; gap: 10px; }
#sidebarPanel .nav a{ display: flex !important; }
/* ===============================
   FIX: SEARCH não virar “bolão”
   (cole no FINAL do admin.css)
================================ */

/* trava altura + impede esticar verticalmente */
.search{
  width: 100%;
  max-width: 560px;      /* limite no desktop */
  height: 46px;          /* altura fixa */
  min-height: 46px;
  align-self: flex-start; /* não deixa o grid esticar */
  border-radius: 14px;   /* menos “pílula”, fica premium */
  padding: 0 14px;
}

/* garante input alinhado */
.search input{
  height: 100%;
  line-height: 46px;
}

/* no mobile, ocupa tudo */
@media (max-width: 760px){
  .search{
    max-width: 100%;
    border-radius: 16px;
  }
}
/* ===============================
   FIX DEFINITIVO: search não vira círculo no mobile
================================ */

/* padrão: search nunca deve esticar verticalmente */
.top-actions .search{
  flex: 0 0 auto;
  height: 46px;
  min-height: 46px;
  border-radius: 14px; /* pode trocar por 999px se quiser pill */
  align-self: flex-start;
}

/* input alinhado na altura */
.top-actions .search input{
  height: 100%;
  line-height: 46px;
}

/* mobile/tablet: garante que não volta a esticar */
@media (max-width: 980px){
  .top-actions .search{
    flex: 0 0 auto !important;
    width: 100% !important;
    height: 46px !important;
    min-height: 46px !important;
    align-self: stretch;
  }
}
/* ===============================
   MENSAGENS — FIX FINAL (MOBILE)
   cola no FINAL do admin.css
================================ */

/* Header do card (onde fica nome + ações) */
.msg-card-head{
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  flex-wrap:wrap;            /* ✅ no mobile os botões descem */
}

/* Garante que o lado do texto pode crescer */
.msg-card-head > :first-child{
  flex:1 1 220px;
  min-width:0;
}

/* Texto do cliente não fica espremido */
.msg-card-head strong,
.msg-card-head small,
.msg-card-head p,
.msg-card-head div{
  min-width:0;
}

/* Ações: no desktop pode rolar, no mobile quebra linha */
.msg-actions{
  flex:0 0 auto;
  display:flex;
  align-items:center;
  gap:10px;
  max-width:100%;
  overflow-x:auto;
  -webkit-overflow-scrolling: touch;
  white-space:nowrap;
  padding-bottom:2px;
}
.msg-actions::-webkit-scrollbar{ display:none; }

/* Mobile: melhor quebrar em 2 linhas do que esmagar o texto */
@media (max-width: 700px){
  .msg-actions{
    flex-wrap:wrap;
    overflow-x:visible;
    white-space:normal;
  }
}
/* ===============================
   DASHBOARD — Status não encolher
   cole no FINAL do admin.css
================================ */

.status-list{
  min-width: 0;
}

.status-list .row,
.status-list .status-row,
.status-list > div{
  min-width: 0;
}

/* Se cada linha do status for flex */
.status-list .row,
.status-list .status-row{
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
}

/* Texto do status pode quebrar, badge/valor não */
.status-list .label,
.status-list .name,
.status-list .left{
  flex: 1 1 auto;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Número / badge NÃO pode encolher */
.status-list .value,
.status-list .count,
.status-list .badge{
  flex: 0 0 auto;
  white-space: nowrap;
  min-width: fit-content;
}

/* Se for badge pequeno demais, dá presença */
.status-list .badge{
  padding: 6px 10px;
  font-size: 12px;
  line-height: 1;
}
/* ===============================
   DASHBOARD — Status não encolher
   (cole no FINAL do admin.css)
================================ */

/* 1) GARANTE que badges nunca “amassem” */
.badge{
  display: inline-flex;
  align-items: center;
  justify-content: center;
  white-space: nowrap;
  flex: 0 0 auto;
  min-width: fit-content;
}

/* 2) STATUS-LIST: cada linha fica “texto + badge” certinho
   (mesmo se o JS gerar divs simples) */
#statusList{
  display: grid;
  gap: 10px;
  min-width: 0;
}

/* Se o JS cria linhas tipo: <div>Pago <span class="badge">12</span></div> */
#statusList > div{
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  min-width: 0;
  padding: 10px 12px;
  border-radius: 16px;
  border: 1px solid rgba(255,255,255,.08);
  background: rgba(0,0,0,.20);
}

/* O texto pode cortar, o badge não */
#statusList > div > :first-child{
  flex: 1 1 auto;
  min-width: 0;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* Se o segundo filho for badge/valor, não encolhe */
#statusList > div > :last-child{
  flex: 0 0 auto;
  white-space: nowrap;
  min-width: fit-content;
}

/* 3) TABELA: Coluna “Status” não quebra nem encolhe */
#lastOrders td:nth-child(4),
#lastOrders th:nth-child(4){
  white-space: nowrap;
}
